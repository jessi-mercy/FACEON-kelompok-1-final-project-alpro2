{% extends "base.html" %}

{% block title %}faceon - Facial Emotion Recognition{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
=======
    <div class="spline-wrapper" style="height: 100%">
        <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.0/build/spline-viewer.js"></script>
        <spline-viewer url="{{ url_for('static', filename='scene.splinecode') }}"></spline-viewer>
    </div>
    </div>
    <div class="hero-content">
        <h1>UNDERSTAND PEOPLE'S EMOTION</h1>
        <p>Get deeper insights into your audience using Artificial Intelligence technology.</p>
        <div class="hero-buttons">
            <a href="{{ url_for('upload_page') }}" class="btn btn-primary">TRY DEMO FOR FREE</a>
        </div>
    </div>
</section>
<!-- What We Do Section -->
<section id="features" class="what-we-do">
    <div class="container">
        <div class="what-we-do-content">
            <div class="what-we-do-text">
                <h2>Provide Facial Emotion Recognition Software</h2>
                <p>Emotion recognition or emotion detection software is a technology that uses artificial intelligence (AI) and machine learning algorithms to analyze and interpret facial expressions and emotions. <span class="highlight">faceon</span> enables users to learn people's emotions by analyzing facial features. We create emotional intelligence that provides a deeper understanding.</p>
            </div>
            <div class="what-we-do-image">
                <div>
                    <img src="{{ url_for('static', filename='images/home2.jpg') }}" class="mask-img">
                </div>
                <div class="image-controls">
                    <button class="carousel-btn prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="carousel-dots">
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                    <button class="carousel-btn next"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Potential Use Cases Section -->
<section id="problem" class="use-cases">
    <div class="container">
        <h2>POTENTIAL USE CASES</h2>
        <div class="use-cases-grid">
            <div class="use-case-card">
                <div>
                    <img src="{{ url_for('static', filename='images/customer.png') }}" class="mask-img">
                </div>
                <h3>Customer Service</h3>
                <p>Analyze emotions to tailor responses and personalize service, improving satisfaction and loyalty.</p>
            </div>
            <div class="use-case-card">
                <div>
                    <img src="{{ url_for('static', filename='images/health.png') }}" class="mask-img">
                </div>
                <h3>Healthcare</h3>
                <p>Enhance caregiver-patient interactions by interpreting emotional cues through telemedicine platforms.</p>
            </div>
            <div class="use-case-card">
                <div>
                    <img src="{{ url_for('static', filename='images/education.jpg') }}" class="mask-img">
                </div>
                <h3>Education</h3>
                <p>Use emotional feedback to identify stress or disengagement, allowing for timely intervention and support to enhance learning outcomes.</p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section id="solution" class="features-section">
    <div class="container">
        <h2 class="section-title">Our Features</h2>

        <div class="features-grid">

            <!-- Feature 1 -->
            <div class="feature-card">
                <div class="feature-number">01</div>

                <div class="feature-text">
                    <h3>Real-Time Emotion Detection</h3>
                    <p>Analyze facial expressions instantly using our advanced AI model.</p>
                </div>

                <div class="feature-image">
                    <img src="{{ url_for('static', filename='images/realtime.png') }}" alt="Real-Time Detection">
                </div>
            </div>

            <!-- Feature 2 -->
            <div class="feature-card">
                <div class="feature-number">02</div>

                <div class="feature-text">
                    <h3>Emotion Insights Dashboard</h3>
                    <p>View detailed emotion analytics to understand behavior patterns.</p>
                </div>

                <div class="feature-image">
                    <img src="{{ url_for('static', filename='images/emotionreal.png') }}" alt="Emotion Dashboard">
                </div>
            </div>

        </div>
    </div>
</section>

<!-- Testimony Section -->
<section class="testimony" id="testimony">
    <div class="container">
        <h2 class="section-title">TESTIMONIALS</h2>

        <!-- Slider -->
        <div class="testimony-slider">
            <button class="slide-btn prev">&#10094;</button>

            <div class="testimony-wrapper"> 
                {% for t in testimonies %}
                <div class="testimony-card">
                    <p>"{{ t.msg }}"</p>
                    <h4>- {{ t.name }}</h4>
                </div>
                {% endfor %}
            </div>

            <button class="slide-btn next">&#10095;</button>
        </div>

        <!-- Add Testimony -->
        <div class="add-testimony">
            <h3>Leave Your Testimony</h3>
            <form id="testimony-form" action="{{ url_for('add_testimony') }}" method="POST">
                <input type="text" name="name" placeholder="Your name" required />
                <textarea name="message" placeholder="Your testimony..." required></textarea>
                <button type="submit">Submit</button>
            </form>
        </div>

        <!-- Vision + Trusted -->
        <div class="vision-trusted">
            <div class="vision-section">
                <h3>Our Vision</h3>
                <p>To revolutionize human-computer interaction by understanding emotion.</p>
            </div>

            <div class="trusted-section">
                <h3>Trusted By</h3>
                <div class="trusted-logos">
                    <img src="{{ url_for('static', filename='images/satya.png') }}" />
                    <img src="{{ url_for('static', filename='images/satya.png') }}" />
                    <img src="{{ url_for('static', filename='images/satya.png') }}" />
                    <img src="{{ url_for('static', filename='images/satya.png') }}" />
                </div>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const sections = document.querySelectorAll("section[id]");
    const scrollLinks = document.querySelectorAll(".scroll-link");

    if (window.location.pathname !== "/") return;

    window.addEventListener("scroll", () => {
        let currentSection = "";

        sections.forEach(section => {
            const top = section.offsetTop - 150;
            const height = section.offsetHeight;

            if (window.scrollY >= top && window.scrollY < top + height) {
                currentSection = section.getAttribute("id");
            }
        });

        scrollLinks.forEach(link => {
            link.classList.remove("active");
            if (link.getAttribute("href") === "#" + currentSection) {
                link.classList.add("active");
            }
        });
    });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const wrapper = document.querySelector(".testimony-wrapper");
    const nextBtn = document.querySelector(".slide-btn.next");
    const prevBtn = document.querySelector(".slide-btn.prev");

    console.log("Slider loaded:", wrapper, nextBtn, prevBtn);

    let index = 0;

    function updateSlider() {
        wrapper.scrollTo({
            left: wrapper.clientWidth * index,
            behavior: "smooth"
        });
    }

    if (nextBtn && prevBtn && wrapper) {
        nextBtn.addEventListener("click", () => {
            console.log("NEXT CLICKED");
            index = Math.min(index + 1, wrapper.children.length - 1);
            updateSlider();
        });

        prevBtn.addEventListener("click", () => {
            console.log("PREV CLICKED");
            index = Math.max(index - 1, 0);
            updateSlider();
        });
    }
});
</script>

{% endblock %}